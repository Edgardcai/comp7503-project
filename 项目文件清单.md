# COMP7503 智慧城市项目 - 文件清单

## 项目完成时间
生成日期: 2025年1月（请根据实际日期修改）

## 文件列表

### 核心文件（必须提交）

1. **SmartCity.Flow.json** ✅
   - 类型: Node-RED流程定义文件
   - 大小: ~33 KB
   - 说明: 包含完整的数据采集、处理和可视化流程
   - 用途: 导入到Node-RED编辑器中

2. **docker-compose.yml** ✅
   - 类型: Docker编排配置
   - 大小: ~1 KB
   - 说明: 定义Node-RED、MongoDB和Mongo Express三个服务
   - 用途: 一键启动整个项目环境

3. **项目报告模板.md** ✅
   - 类型: Markdown文档
   - 大小: ~50 KB
   - 说明: 详细的项目报告模板，包含所有章节
   - 用途: 填写后转换为PDF提交
   - **注意**: 提交时需要转换为PDF格式

### 配置文件

4. **Dockerfile** ✅
   - 类型: Docker镜像定义
   - 大小: ~0.5 KB
   - 说明: 自定义Node-RED镜像，预装必要的节点
   - 用途: 可选，用于构建自定义镜像

5. **package.json** ✅
   - 类型: Node.js包配置
   - 大小: ~0.5 KB
   - 说明: 记录项目依赖的Node-RED节点
   - 用途: 文档化依赖关系

### 文档文件

6. **README.md** ✅
   - 类型: Markdown文档
   - 大小: ~15 KB
   - 说明: 快速入门指南，包含安装、配置、使用说明
   - 用途: 项目使用手册

7. **解决方案文档.md** ✅
   - 类型: Markdown文档
   - 大小: ~30 KB
   - 说明: 详细的技术解决方案，包含架构设计、实现细节
   - 用途: 技术参考文档

8. **项目文件清单.md** ✅
   - 类型: Markdown文档
   - 大小: ~5 KB
   - 说明: 本文件，列出所有项目文件
   - 用途: 项目完整性检查

### 辅助文件

9. **start.sh** ✅
   - 类型: Shell脚本
   - 大小: ~2 KB
   - 说明: Linux/macOS启动脚本
   - 用途: 一键启动项目
   - **权限**: 已添加执行权限 (chmod +x)

10. **start.bat** ✅
    - 类型: Windows批处理脚本
    - 大小: ~2 KB
    - 说明: Windows启动脚本
    - 用途: 一键启动项目

11. **.gitignore** ✅
    - 类型: Git配置文件
    - 大小: ~0.5 KB
    - 说明: 定义不需要版本控制的文件
    - 用途: 如果使用Git管理项目

## 文件结构树

```
hw/
├── SmartCity.Flow.json          # Node-RED流程（核心）
├── docker-compose.yml           # Docker配置（核心）
├── Dockerfile                   # 自定义镜像定义
├── package.json                 # 依赖声明
├── README.md                    # 快速入门
├── 解决方案文档.md              # 详细技术方案
├── 项目报告模板.md              # 报告模板（需转PDF）
├── 项目文件清单.md              # 本文件
├── start.sh                     # Linux/macOS启动脚本
├── start.bat                    # Windows启动脚本
└── .gitignore                   # Git忽略配置
```

## 提交前检查清单

### 必须提交的文件

- [ ] **SmartCity.Flow.json** - 已测试可导入
- [ ] **docker-compose.yml** - 已测试可启动
- [ ] **项目报告.pdf** - 从模板填写并转换为PDF
- [ ] **README.md** - 包含完整的使用说明
- [ ] **Dockerfile** 或 **Docker Hub链接** - 二选一

### 可选提交的文件

- [ ] package.json
- [ ] 解决方案文档.md
- [ ] start.sh / start.bat
- [ ] 项目演示视频（如有）
- [ ] 测试报告（如有）

## 提交打包说明

### 方式1: ZIP压缩包

创建zip文件包含以下内容：

```bash
# Linux/macOS
zip -r COMP7503_SmartCity_项目.zip \
  SmartCity.Flow.json \
  docker-compose.yml \
  Dockerfile \
  项目报告.pdf \
  README.md

# Windows
# 右键选择文件 → 发送到 → 压缩(zipped)文件夹
```

**压缩包命名格式**: `学号_姓名_COMP7503_Assignment.zip`

例如: `3035123456_张三_COMP7503_Assignment.zip`

### 方式2: Docker Hub

如果选择提交Docker Hub链接：

1. 构建镜像:
```bash
docker build -t 你的用户名/comp7503-smart-city:latest .
```

2. 推送到Docker Hub:
```bash
docker login
docker push 你的用户名/comp7503-smart-city:latest
```

3. 在报告中注明:
   - Docker Hub用户名
   - 镜像名称
   - 镜像标签

## 项目报告转PDF说明

### 方法1: 使用Pandoc（推荐）

```bash
# 安装pandoc（如未安装）
# macOS: brew install pandoc
# Ubuntu: sudo apt install pandoc
# Windows: 从官网下载安装

# 转换为PDF
pandoc 项目报告模板.md -o 项目报告.pdf \
  --pdf-engine=xelatex \
  -V CJKmainfont="SimSun" \
  --toc
```

### 方法2: 使用Typora

1. 打开 Typora
2. 导入 `项目报告模板.md`
3. 点击 文件 → 导出 → PDF

### 方法3: 使用VS Code

1. 安装插件 "Markdown PDF"
2. 打开 `项目报告模板.md`
3. 右键 → Markdown PDF: Export (pdf)

### 方法4: 在线转换

访问: https://www.markdowntopdf.com/

## 数据备份说明

在提交前，建议备份MongoDB数据：

```bash
# 创建备份
docker exec comp7503-mongodb mongodump \
  --db=smartcity \
  --out=/data/backup

# 导出到本地
docker cp comp7503-mongodb:/data/backup ./backup

# 压缩备份
zip -r mongodb_backup.zip backup/
```

这样可以在演示时快速恢复数据。

## 项目演示准备

如果需要演示项目：

### 演示环境检查

- [ ] Docker Desktop已启动
- [ ] 端口1880、27017、8081未被占用
- [ ] 浏览器已安装（Chrome/Firefox推荐）
- [ ] 网络连接正常（用于API调用）

### 演示步骤

1. 运行启动脚本: `./start.sh` 或 `start.bat`
2. 等待服务启动（约30秒）
3. 打开浏览器访问 http://localhost:1880
4. 导入 SmartCity.Flow.json
5. 部署流程
6. 访问 Dashboard: http://localhost:1880/ui
7. 等待数据采集（约1-2分钟）
8. 展示各个可视化图表
9. 在Mongo Express中展示数据存储
10. 在Node-RED中解释数据流程

### 准备演示数据

如果担心现场采集数据慢，可以提前准备数据：

```bash
# 提前启动系统运行24小时
docker-compose up -d

# 或者导入预先准备的数据
docker exec -i comp7503-mongodb mongorestore \
  --db=smartcity < backup/smartcity
```

## 常见问题

### Q: 提交的文件太大怎么办？

A:
- 不要包含node_modules目录
- 不要包含数据库数据文件
- 只提交源代码和配置文件
- 如果仍然太大，可以只提交必需文件

### Q: Docker Hub和Dockerfile都要提交吗？

A: 二选一即可：
- 提交Dockerfile（本地构建）
- 或提交Docker Hub链接（在线拉取）

### Q: 报告必须用PDF格式吗？

A: 是的，根据作业要求，报告必须是PDF格式。

### Q: 可以用英文写报告吗？

A: 可以，但建议使用中文，因为模板是中文的。如果用英文，需要完整翻译所有章节。

## 提交截止日期提醒

**截止日期**: 2025年11月29日 23:55

**延迟提交惩罚**:
- 每天扣5%
- 超过1周不接受提交

**建议**:
- 提前至少2天完成
- 留出时间测试和修复bug
- 准备backup计划

## 联系方式

如有问题，请联系：

- 小组成员: [填写]
- 助教: [填写]
- 课程老师: [填写]

## 版本历史

| 版本 | 日期 | 修改内容 |
|------|------|---------|
| v1.0 | 2025-01-XX | 初始版本，包含所有核心文件 |

---

**祝您提交顺利！**
